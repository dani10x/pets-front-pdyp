<nb-card [nbSpinner]="loading">
  <nb-card-header>Mascotas</nb-card-header>
  <nb-card-body>
    <div class="container">
      <form class="horizontal-form" [formGroup]="mascotasForm">
        <div class="row">
          <div class="col-sm-6">
            <mat-form-field>
              <mat-label>Nombre</mat-label>
              <input matInput type="text" placeholder="Nombre" formControlName="nombre" />
              <mat-error
                *ngIf="mascotasForm.controls['nombre'].invalid && (mascotasForm.controls['nombre'].dirty || mascotasForm.controls['nombre'].touched)">
                {{error(getFormControl('nombre'), 'Nombre')}}</mat-error>
            </mat-form-field>
          </div>
          <div class="col-sm-6">
            <mat-form-field>
              <mat-label>Raza</mat-label>
              <input matInput type="text" placeholder="Raza" formControlName="raza" />
              <mat-error
                *ngIf="mascotasForm.controls['raza'].invalid && (mascotasForm.controls['raza'].dirty || mascotasForm.controls['raza'].touched)">
                {{error(getFormControl('raza'), 'Raza')}}</mat-error>
            </mat-form-field>
          </div>
        </div>
        <div class="row">
          <div class="col-sm-6">
            <mat-form-field>
              <mat-label>Peso</mat-label>
              <input matInput placeholder="Peso" formControlName="peso" type="number"/>
              <mat-error
                *ngIf="mascotasForm.controls['peso'].invalid && (mascotasForm.controls['peso'].dirty || mascotasForm.controls['peso'].touched)">
                {{error(getFormControl('peso'), 'Peso')}}</mat-error>
            </mat-form-field>
          </div>
          <div class="col-sm-6">
            <mat-form-field>
              <mat-label>Fecha de Nacimiento</mat-label>
              <input matInput [matDatepicker]="picker" placeholder="Fecha de Nacimiento" formControlName="fechaNacimiento" />
              <mat-hint>MM/DD/YYYY</mat-hint>
              <mat-datepicker-toggle matIconSuffix [for]="picker"></mat-datepicker-toggle>
              <mat-datepicker #picker></mat-datepicker>
              <mat-error
                *ngIf="mascotasForm.controls['fechaNacimiento'].invalid && (mascotasForm.controls['fechaNacimiento'].dirty || mascotasForm.controls['fechaNacimiento'].touched)">
                {{error(getFormControl('fechaNacimiento'), 'Fecha de Nacimiento')}}</mat-error>
            </mat-form-field>
          </div>
        </div>
        <div class="row">
          <div class="col-sm-12">
            <mat-form-field>
              <mat-label>Cliente</mat-label>
              <mat-select  formControlName="idCliente">
                <mat-option *ngFor="let cliente of clientes" [value]="cliente.id">{{cliente.nombre}}</mat-option>
              </mat-select>
              <mat-error
                *ngIf="mascotasForm.controls['idCliente'].invalid && (mascotasForm.controls['idCliente'].dirty || mascotasForm.controls['idCliente'].touched)">
                {{error(getFormControl('idCliente'), 'Cliente')}}</mat-error>
            </mat-form-field>
          </div>
        </div>
      </form>
    </div>
  </nb-card-body>
  <nb-card-footer>
    <div class="buttones-container">
      <button mat-button (click)="navegarLista()" *ngIf="receivedData">Cancelar</button>
      <button mat-raised-button color="primary" [disabled]="mascotasForm.invalid" (click)="registrar()">Registrar</button>
    </div>
  </nb-card-footer>
</nb-card>
